{% extends 'base.html' %}

{% block content %}

  <div class="container text-white">
    <div class="row">
      <h1 class="display-2">Music & Death</h1>
      <section>
        <h3 class="mt-5">Objective</h3>
        <p class="mt-0">The main objective of this research is to investigate if there is any relationship between being
          a
          professional musician and deaths from unnatural causes (A death from natural causes is the result of a disease
          or an internal malfunction of the body not directly caused by external forces, which are not infectious
          diseases)</p>
        <p>In this case, the main causes are analyzed in which a psychological case directly affects the cause of death
          and not a more common case such as accidents.</p>
        <h5>10 most closely associated with death</h5>
        <ol class="ps-5">
          <li>Current smoker</li>
          <li>History of divorce</li>
          <li>History of alcohol abuse</li>
          <li>Recent financial difficulties</li>
          <li>History of unemployment</li>
          <li>Previous history as a smoker</li>
          <li>Lower life satisfaction</li>
          <li>Never married</li>
          <li>History of food stamps</li>
          <li>Negative affectivity</li>
        </ol>
      </section>
      <section class="mt-4">
        <h3>Hypothesis</h3>
        <p class="mt-0">2 of the main causes of unnatural deaths in musicians is abandonment by parents or family and
          the ease of
          obtaining drugs</p>
        <p>I started from scratch collecting data about musicians who have died unnaturally, young or in strange ways in
          a sql table to later normalize it and have all the data structured for future projects.</p>
        <img src="{{ url_for('static', filename='/images/projects/software/music_death/music_db.jpg') }}"
             class="img-frame project-img mt-3">
        <p>The data cleaning process is about minimizing beforehand to make the job easier in the future</p>
        <h5>Cities, states and countries tables</h5>
        <p class="mt-0">We will use the city, state and country tables to be able to separate each artist by their
          region of birth
          and to know if it is a common factor.</p>
        <img src="{{ url_for('static', filename='/images/projects/software/music_death/cty_st_ctr.jpg') }}"
             class="img-frame project-img mt-2">
        <p>We will normalize the table birth to have each artist separate by their birthplace</p>
        <img src="{{ url_for('static', filename='/images/projects/software/music_death/birth.jpg') }}"
             class="img-frame project-img mt-2">
        <p>We finished wit this tables</p>
        <img src="{{ url_for('static', filename='/images/projects/software/music_death/tables.jpg') }}"
             class="img-frame project-img mt-2">
      </section>
      <section class="mt-4">
        <h3>Jupyter notebook</h3>
        <p class="mt-0">After normalizing the tables we proceed to connect the database with Jupyter notebook to be able
          to do the analysis with the help of pandas libraries, matplotlib.</p>
        <h3>Install required libraries</h3>
        <p class="mt-0">We begin with the installation of the necessary libraries to be able to connect Mysql and for
          the environment
          variables</p>
        <img src="{{ url_for('static', filename='/images/projects/software/music_death/installation.jpg') }}"
             class="img-frame project-img mt-2">
        <p>Now we import the necessary libraries for data analysis, graphing and connecting the database</p>
        <img src="{{ url_for('static', filename='/images/projects/software/music_death/libraries.jpg') }}"
             class="img-frame project-img mt-2">
        <h3 class="mt-4">Database login</h3>
        <p class="mt-0">Next we import the host, name of database and password of MySql, saved in a separate .env file
          to protect the
          data from corruption, we use the library dotenv and the function load_dotenv() previously loaded to do this
          automatically</p>
        <img src="{{ url_for('static', filename='/images/projects/software/music_death/environment.png') }}"
             class="img-frame project-img mt-2">
        <h3 class="mt-4">Connect to the database</h3>
        <p class="mt-0">To connect to the database we will use Try: to prevent a failed connection and the function
          mysql.connector.connect() which as arguments will give the connection values previously loaded with
          load_env()</p>
        <p>connection.is_connected() is a function that helps us to know if the connection was successful</p>
        <p>If the connection is correct we will print "Succes Connected", and using pandas and its read_sql_query
          function we can create queries in the same way as in sql with which we will read the data from the database
          and extract all the tables individually to later manage and clean the necessary data.</p>
        <img src="{{ url_for('static', filename='/images/projects/software/music_death/connect.png') }}"
             class="img-frame project-img mt-2">
        <h3 class="mt-4">Join tables</h3>
        <p class="mt-0">In the same Try function: by means of else that is executed we will always join all the tables
          previously
          read in the same dataframe, with the pandas concat function we can add a new column choosing axis=1 and with
          the merge function we will join the tables that have the same column to join equivalents and we'll get rid of
          the duplicate columns for the end sort the columns by means of iloc.</p>
        <p>Finally we close the connection since the data to be used is saved in a new dataframe</p>
        <img src="{{ url_for('static', filename='/images/projects/software/music_death/merge.png') }}"
             class="img-frame project-img mt-2">
        <h3 class="mt-4">Merge cities, states & countries tables</h3>
        <p class="mt-0">In this section we will join the tables of the localities so that each city id coincides with
          its respective state and country and identify the place of birth of each musician.</p>
        <img src="{{ url_for('static', filename='/images/projects/software/music_death/cities.jpg') }}"
             class="img-frame">
        <h3 class="mt-4">Drop columns</h3>
        <p class="mt-0">In this section we will eliminate the columns that are not necessary for our investigation, such
          as the identifiers of each type of cause of death, musical genre or date of birth and death.</p>
        <img src="{{ url_for('static', filename='/images/projects/software/music_death/drop.jpg') }}"
             class="img-frame">
        <h3 class="mt-4">Merge dataframes</h3>
        <p class="mt-0">Now we have 2 dataframes one with the musicians information and one with the cities</p>
        <img src="{{ url_for('static', filename='/images/projects/software/music_death/musician_inf.jpg') }}"
             class="img-frame">
        <img src="{{ url_for('static', filename='/images/projects/software/music_death/cities_inf.jpg') }}"
             class="img-frame mt-4">
        <p>Now we will join them so that each identifier of the city of birth of the musicians is joined with the table
          of cities</p>
        <img src="{{ url_for('static', filename='/images/projects/software/music_death/merge_mc.jpg') }}"
             class="img-frame">
        <p>Now we can look at the two joined tables</p>
        <img src="{{ url_for('static', filename='/images/projects/software/music_death/joined.jpg') }}"
             class="img-frame">

      </section>

    </div>

  </div>

{% endblock %}
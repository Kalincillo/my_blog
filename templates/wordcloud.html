{% extends 'base.html' %}

{% block content %}

  <div class="container text-white">
    <div class="row">
      <h1 class="display-2">Don Quixote Word Cloud (SPANISH)</h1>
      <h3 class="mt-1">Wordcloud</h3>
      <p>A word cloud (also known as a tag cloud) is a visual representation of words. Cloud creators are used to
        highlight popular words and phrases based on frequency and relevance. They provide you with quick and simple
        visual insights that can lead to more in-depth analyses.</p>
      <p>I decide to do the wordcloud with the classic Don Quixote because a think is a book that inspire generations
        and has a meaningful message</p>
      <p>The programming language to use is Python</p>
      <section>
        <h3>Libraries</h3>
        <div class="copy-button">
          <button type="button" class="fa fa-copy"></button>
        </div>
        <div class="code-box-5">
          <pre>
            <code>
<!-- ***************************** OPEN PYTHON CODE ********************************************** -->
<span class="imp">import </span><span>numpy </span><span class="imp">as </span><span>np</span>
<span class="imp">import </span><span>pandas </span><span class="imp">as </span><span>pd</span>
<span class="imp">from </span><span>PIL </span><span class="imp">import </span><span>Image</span>
<span class="imp">import </span><span>matplotlib.pyplot </span><span
  class="imp">as </span><span>plt</span>
<span class="imp">import </span><span>sys</span>
<!-- ***************************** CLOSE PYTHON CODE ********************************************* -->
            </code>
          </pre>
        </div>
      </section>
      <section>
        <h3 class="mt-4">external libraries</h3>
        <p class="mt-0">Wordcloud is normally not installed in anaconda or jupyter notebooks
          by default, so you need to installed manually</p>
        <div class="copy-button">
          <button type="button" class="fa fa-copy"></button>
        </div>
        <div class="code-box-1">
          <pre>
            <code>
<!-- ***************************** OPEN PYTHON CODE ********************************************** -->
<span class="sign-2">!</span><span
  class="sign">{</span><span>sys</span><span>.</span><span>executable</span><span
  class="sign">} </span><span class="arguments">-m </span><span
  class="imp">pip </span><span>install </span><span>wordcloud</span>
<!-- ***************************** CLOSE PYTHON CODE ********************************************* -->
            </code>
          </pre>
        </div>
      </section>
      <section>
        <h3 class="mt-4">Stopwords</h3>
        <p class="mt-0">Import the library for word cloud and the STOPWORDS to eliminate words usually made up of
          articles, pronouns,
          prepositions, adverbs, and even some verbs.</p>
        <div class="copy-button">
          <button type="button" class="fa fa-copy"></button>
        </div>
        <div class="code-box-1">
          <pre>
            <code>
<!-- ***************************** OPEN PYTHON CODE ********************************************** -->
<span class="imp">from </span><span>wordcloud </span><span class="imp">import </span><span>WordCloud, STOPWORDS</span>
<!-- ***************************** CLOSE PYTHON CODE ********************************************* -->
            </code>
          </pre>
        </div>
      </section>
      <section>
        <h3 class="mt-4">Book</h3>
        <p class="mt-0">Load the spanish version of the book</p>
        <div class="copy-button">
          <button type="button" class="fa fa-copy"></button>
        </div>
        <div class="code-box-1">
          <pre>
            <code>
<!-- ***************************** OPEN PYTHON CODE ********************************************** -->
<span>quijote </span><span>= </span><span class="func">open</span><span class="sign">(</span><span
  class="str">'don_quijote.txt', 'rb'</span><span class="sign">)</span><span>.</span><span
  class="method">read</span><span class="sign">()</span><span>.</span><span
  class="method">decode</span><span class="sign">(</span><span class="str">'utf-8'</span><span class="sign">)</span>
<!-- ***************************** CLOSE PYTHON CODE ********************************************* -->
            </code>
          </pre>
        </div>
      </section>
      <section>
        <h3 class="mt-4">Stopwords</h3>
        <p class="mt-0">Load the spanish stopwords into a python list</p>
        <div class="copy-button">
          <button type="button" class="fa fa-copy"></button>
        </div>
        <div class="code-box-4">
          <pre>
            <code>
<!-- ***************************** OPEN PYTHON CODE ********************************************** -->
<span>stop_words </span><span class="imp">= </span><span class="sign">[]</span>
<span class="imp">with </span><span class="func">open</span><span>(</span><span
  class="str">"stop_words_spanish.txt", "r"</span><span>) </span><span class="imp">as </span><span>f</span><span
  class="sign-2">:</span>
<span>    word </span><span class="imp">= </span><span>f.</span><span
  class="method">read</span><span class="sign">()</span>
<span>    stop_words </span><span class="imp">= </span><span>word.</span><span class="method">splitlines</span><span
  class="sign">()</span>
<!-- ***************************** CLOSE PYTHON CODE ********************************************* -->
            </code>
          </pre>
        </div>
      </section>
      <section>
        <h3 class="mt-4">Add new stopwords</h3>
        <p class="mt-0">If you want to add new stopwords this is the place</p>
        <div class="code-box">
          <button type="button" class="fa fa-copy float-end me-3 mt-3"></button>
          <pre>
            <code>
<!-- ***************************** OPEN PYTHON CODE ********************************************** -->
<span>stop_words.</span><span class="func">extend</span><span class="sign">([</span><span class="str">'él', 'qué', 'así', 'allí',
                   'te', 'cómo', 'más', 'había',
                   'día', 'aquí', 'tu', 'está',
                   'os', 'quién', 'mis', 'tú',
                   'sé', 'aun', 'mí', 'vos',
                   'ma', 'has', 'algún'<span class="sign">])</span>
</span>
<!-- ***************************** CLOSE PYTHON CODE ********************************************* -->
            </code>
          </pre>
        </div>
      </section>
      <section>
        <h3 class="mt-4">Wordcloud function</h3>
        <p class="mt-0">Run the WordCloud function and customize max words, color and stopwords
          and pass the read book to the function to generate the wordcloud</p>
        <div class="code-box">
          <button type="button" class="fa fa-copy float-end me-3 mt-3"></button>
          <pre>
            <code>
<!-- ***************************** OPEN PYTHON CODE ********************************************** -->
<span>don_quijote_wc </span><span class="imp">= </span><span class="func">WordCloud</span><span class="sign">(</span>
<span class="arg">    background_color</span><span class="imp">=</span><span class="str">'white'</span>,
<span class="arg">    max_words</span><span class="sign">=</span><span class="num">200</span><span>,</span>
<span class="arg">    stopwords</span><span class="imp">=</span><span>stop_words</span>
<span class="sign">)</span>

<span>don_quijote_wc.</span><span class="func">generate</span><span class="sign">(</span><span>quijote</span><span
  class="sign">)</span>
<!-- ***************************** CLOSE PYTHON CODE ********************************************* -->
            </code>
          </pre>
        </div>
      </section>
      <section>
        <h3 class="mt-4">Plotting</h3>
        <p class="mt-0">Plot the resulted wordcloud</p>
        <div class="code-box">
          <button type="button" class="fa fa-copy float-end me-3 mt-3"></button>
          <pre>
            <code>
<!-- ***************************** OPEN PYTHON CODE ********************************************** -->
<span>plt.</span><span class="func">imshow</span><span class="sign">(</span><span>don_quijote_wc, </span><span
  class="arg">interpolation</span><span class="imp">=</span><span class="str">'bilinear'</span><span
  class="sign">)</span>
<span>plt.</span><span class="func">axis</span><span class="sign">(</span><span class="str">'off'</span><span
  class="sign">)</span>
<span>plt.</span><span class="func">show</span><span class="sign">(</span><span class="sign">)</span>

<!-- ***************************** CLOSE PYTHON CODE ********************************************* -->
            </code>
          </pre>
        </div>
        <img src="{{ url_for('static', filename='/images/projects/wc.jpg') }}" class="project-img">
        <p>We can see that don and Quijote are the words that appears the most</p>
      </section>
      <section>
        <h3 class="mt-2">Custom image</h3>
        <p class="mt-0">Now we put the custom silhouette image to insert the word cloud</p>
        <div class="code-box">
          <button type="button" class="fa fa-copy float-end me-3 mt-3"></button>
          <pre>
            <code>
<!-- ***************************** OPEN PYTHON CODE ********************************************** -->
<span>don_quixote_mask </span><span class="imp">= </span><span>np.</span><span class="func">array</span><span
  class="sign">(</span><span class="arg">figsize</span><span class="imp">=</span><span class="sign">(</span><span
  class="num">14</span><span>, </span><span class="num">18</span><span class="sign">))</span>

<span class="comment">#Give size and show the image</span>
<span>fig </span><span class="imp">= </span><span>plt.</span><span class="func">figure</span><span class="sign">(</span><span
  class="arg">figsize</span><span class="imp">=</span><span class="sign">(</span><span
  class="num">14</span><span>, </span><span class="num">18</span><span class="sign">))</span>
<span>plt.</span><span class="func">show</span><span class="sign">()</span>

<!-- ***************************** CLOSE PYTHON CODE ********************************************* -->
            </code>
          </pre>
        </div>
        <img src="{{ url_for('static', filename='/images/projects/silhouette.jpg') }}" class="project-img">
      </section>
      <section>
        <h3>Final Image</h3>
        <p>Add the wordcloud to the silhouette image</p>
        <div class="code-box">
          <button type="button" class="fa fa-copy float-end me-3 mt-3"></button>
          <pre>
            <code>
<!-- ***************************** OPEN PYTHON CODE ********************************************** -->
<span>quixote_wc </span><span class="imp">= </span><span class="func">WordCloud</span><span class="sign">(</span>
<span class="arg">    background_color</span><span class="imp">=</span><span class="str">'white'</span><span>,</span>
<span class="arg">    max_words</span><span class="imp">=</span><span class="num">200</span><span>,</span>
<span class="arg">    mask</span><span class="imp">=</span><span>don_quixote_mask,</span>
<span class="arg">    stopwords</span><span class="imp">=</span><span>stop_words</span>
<span class="sign">)</span>

<span>quixote_wc.</span><span class="func">generate</span><span class="sign">(</span><span>quijote</span><span
  class="sign">)</span>
<span>fig </span><span class="imp">= </span><span>plt.</span><span class="func">figure</span><span class="sign">(</span><span
  class="arg">figsize</span><span class="imp">=</span><span class="sign">(</span><span
  class="num">14</span><span>, </span><span class="num">18</span><span class="sign">))</span>
<span>plt.</span><span class="func">imshow</span><span class="sign">(</span><span>quixote_wc, </span><span class="arg">interpolation</span><span
  class="imp">=</span><span class="str">'bilinear'</span><span class="sign">)</span>
<span>plt.</span><span class="func">axis</span><span class="sign">(</span><span class="str">'off'</span><span
  class="sign">)</span>
<span>plt.</span><span class="func">show</span><span class="sign">()</span>
<!-- ***************************** CLOSE PYTHON CODE ********************************************* -->
            </code>
          </pre>
        </div>
        <img src="{{ url_for('static', filename='/images/projects/quixote.jpg') }}" class="project-img">
      </section>

    </div>
  </div>

{% endblock %}